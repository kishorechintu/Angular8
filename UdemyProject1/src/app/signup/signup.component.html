<div class="row">
  <div class="col-md-8 col-xl-6 mx-auto">
    <div class="card mt-1">
      <div class="card-header">
        <h4>Sign Up</h4>
      </div>
      <div class="card-body">
        <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
          <div class="form-group form-row" formGroupName="personName">
            <label for="firstName" class="col-md-4 col-form-label"
              >First Name</label
            >
            <div class="col-md-8">
              <input
                type="text"
                name="firstName"
                id="firstName"
                placeholder="First Name"
                class="form-control"
                formControlName="firstName"
                [ngClass]="{
                  'is-invalid':
                    signUpForm.get('personName.firstName').invalid &&
                    (signUpForm.get('personName.firstName').touched ||
                      signUpForm.get('personName.firstName').dirty),
                  'is-valid':
                    signUpForm.get('personName.firstName').valid &&
                    (signUpForm.get('personName.firstName').touched ||
                      signUpForm.get('personName.firstName').dirty)
                }"
              />
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('personName.firstName').invalid &&
                  (signUpForm.get('personName.firstName').touched ||
                    signUpForm.get('personName.firstName').dirty) &&
                  signUpForm.get('personName.firstName').errors?.required
                "
                >First Name is required..</span
              >
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('personName.firstName').invalid &&
                  (signUpForm.get('personName.firstName').touched ||
                    signUpForm.get('personName.firstName').dirty) &&
                  signUpForm.get('personName.firstName').errors?.minlength
                "
                >Minimum 3 charecters are required..</span
              >
            </div>
          </div>
          <div class="form-group form-row" formGroupName="personName">
            <label for="lastName" class="col-md-4 col-form-label"
              >Last Name</label
            >
            <div class="col-md-8">
              <input
                type="text"
                name="lastName"
                id="lastName"
                placeholder="Last Name"
                class="form-control"
                formControlName="lastName"
              />
            </div>
          </div>
          <div class="form-group form-row">
            <label for="email" class="col-md-4 col-form-label">Email</label>
            <div class="col-md-8">
              <input
                type="text"
                name="email"
                id="email"
                placeholder="Email"
                class="form-control"
                formControlName="email"
                [ngClass]="{
                  'is-invalid':
                    signUpForm.get('email').invalid &&
                    (signUpForm.get('email').touched ||
                      signUpForm.get('email').dirty),
                  'is-valid':
                    signUpForm.get('email').valid &&
                    (signUpForm.get('email').touched ||
                      signUpForm.get('email').dirty)
                }"
              />
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('email').invalid &&
                  (signUpForm.get('email').touched ||
                    signUpForm.get('email').dirty) &&
                  signUpForm.get('email').errors?.required
                "
                >Email is required..</span
              >
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('email').invalid &&
                  (signUpForm.get('email').touched ||
                    signUpForm.get('email').dirty) &&
                  signUpForm.get('email').errors?.email
                "
                >Invalid Email...</span
              >
            </div>
          </div>
          <div class="form-group form-row">
            <label for="mobile" class="col-md-4 col-form-label">Mobile</label>
            <div class="col-md-8">
              <input
                type="text"
                name="mobile"
                id="mobile"
                placeholder="Mobile"
                class="form-control"
                formControlName="mobile"
                [ngClass]="{
                  'is-invalid':
                    signUpForm.get('mobile').invalid &&
                    (signUpForm.get('mobile').touched ||
                      signUpForm.get('mobile').dirty),
                  'is-valid':
                    signUpForm.get('mobile').valid &&
                    (signUpForm.get('mobile').touched ||
                      signUpForm.get('mobile').dirty)
                }"
              />
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('mobile').invalid &&
                  (signUpForm.get('mobile').touched ||
                    signUpForm.get('mobile').dirty) &&
                  signUpForm.get('mobile').errors?.required
                "
                >Mobiel Number required..</span
              >
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('mobile').invalid &&
                  (signUpForm.get('mobile').touched ||
                    signUpForm.get('mobile').dirty) &&
                  signUpForm.get('mobile').errors?.pattern
                "
                >Invalid Mobile Number...</span
              >
            </div>
          </div>
          <div class="form-group form-row">
            <label for="dob" class="col-md-4 col-form-label"
              >Date Of Birth</label
            >
            <div class="col-md-8">
              <input
                type="date"
                name="dob"
                id="dob"
                placeholder="DOB"
                class="form-control"
                formControlName="dateOfBirth"
                [ngClass]="{
                  'is-invalid':
                    signUpForm.get('dateOfBirth').invalid &&
                    (signUpForm.get('dateOfBirth').touched ||
                      signUpForm.get('dateOfBirth').dirty),
                  'is-valid':
                    signUpForm.get('dateOfBirth').valid &&
                    (signUpForm.get('dateOfBirth').touched ||
                      signUpForm.get('dateOfBirth').dirty)
                }"
              />
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('dateOfBirth').invalid &&
                  (signUpForm.get('dateOfBirth').touched ||
                    signUpForm.get('dateOfBirth').dirty) &&
                  signUpForm.get('dateOfBirth').errors?.required
                "
                >Date Of Birth is required..</span
              >
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('dateOfBirth').invalid &&
                  (signUpForm.get('dateOfBirth').touched ||
                    signUpForm.get('dateOfBirth').dirty) &&
                  signUpForm.get('dateOfBirth').errors?.minAge
                "
                >Minimum Age Should be 18 years..</span
              >
            </div>
          </div>
          <div class="form-group form-row">
            <label for="password" class="col-md-4 col-form-label"
              >Password</label
            >
            <div class="col-md-8">
              <input
                type="text"
                name="password"
                id="password"
                placeholder="password"
                class="form-control"
                formControlName="password"
                [ngClass]="{
                  'is-invalid':
                    signUpForm.get('password').invalid &&
                    (signUpForm.get('password').touched ||
                      signUpForm.get('password').dirty),
                  'is-valid':
                    signUpForm.get('password').valid &&
                    (signUpForm.get('password').touched ||
                      signUpForm.get('password').dirty)
                }"
              />
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('password').invalid &&
                  (signUpForm.get('password').touched ||
                    signUpForm.get('password').dirty) &&
                  signUpForm.get('password').errors?.required
                "
                >Password required..</span
              >
            </div>
          </div>
          <div class="form-group form-row">
            <label for="password" class="col-md-4 col-form-label"
              >Confirm Password</label
            >
            <div class="col-md-8">
              <input
                type="text"
                name="confirmPassword"
                id="confirmPassword"
                placeholder="ConfirmPassword"
                class="form-control"
                formControlName="confirmPassword"
                [ngClass]="{
                  'is-invalid':
                    signUpForm.get('confirmPassword').invalid &&
                    (signUpForm.get('confirmPassword').touched ||
                      signUpForm.get('confirmPassword').dirty),
                  'is-valid':
                    signUpForm.get('confirmPassword').valid &&
                    (signUpForm.get('confirmPassword').touched ||
                      signUpForm.get('confirmPassword').dirty)
                }"
              />
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('confirmPassword').invalid &&
                  (signUpForm.get('confirmPassword').touched ||
                    signUpForm.get('confirmPassword').dirty) &&
                  signUpForm.get('confirmPassword').errors?.required
                "
                >Confirmpassword required..</span
              >
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('confirmPassword').invalid &&
                  (signUpForm.get('confirmPassword').touched ||
                    signUpForm.get('confirmPassword').dirty) &&
                  signUpForm.get('confirmPassword').errors?.compareValidator
                "
                >password do not match..</span
              >
            </div>
          </div>
          <div class="form-group form-row">
            <label class="col-md-4 col-form-label">Gender :</label>
            <div class="col-md-8">
              <div
                class="form-check-label form-check-inline"
                *ngFor="let gen of genders"
              >
                <input
                  type="radio"
                  name="gender"
                  [id]="gen"
                  [value]="gen"
                  class="form-check-input"
                  formControlName="gender"
                  [ngClass]="{
                    'is-invalid':
                      signUpForm.get('gender').invalid &&
                      (signUpForm.get('gender').touched ||
                        signUpForm.get('gender').dirty),
                    'is-valid':
                      signUpForm.get('gender').valid &&
                      (signUpForm.get('gender').touched ||
                        signUpForm.get('gender').dirty)
                  }"
                />
                <label [for]="gen" class="form-check-label">{{ gen }}</label>
              </div>
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('gender').invalid &&
                  (signUpForm.get('gender').touched ||
                    signUpForm.get('gender').dirty) &&
                  signUpForm.get('gender').errors?.required
                "
                >Gender is required..</span
              >
            </div>
          </div>

          <div class="form-group form-row">
            <label for="countryID" class="col-md-4 col-form-label"
              >Country</label
            >
            <div class="col-md-8">
              <select
                name="countryID"
                id="countryID"
                class="form-control"
                formControlName="countryID"
                [ngClass]="{
                  'is-invalid':
                    signUpForm.get('countryID').invalid &&
                    (signUpForm.get('countryID').touched ||
                      signUpForm.get('countryID').dirty),
                  'is-valid':
                    signUpForm.get('countryID').valid &&
                    (signUpForm.get('countryID').touched ||
                      signUpForm.get('countryID').dirty)
                }"
              >
                <option value="null">Please Select</option>
                <option
                  *ngFor="let country of countries"
                  [value]="country.countryName"
                  >{{ country.countryName }}</option
                >
              </select>
              <span
                class="text-danger"
                *ngIf="
                  signUpForm.get('countryID').invalid &&
                  (signUpForm.get('countryID').touched ||
                    signUpForm.get('countryID').dirty) &&
                  signUpForm.get('countryID').errors?.required
                "
                >Country Should be selected..</span
              >
            </div>
          </div>
          <div class="form-group form-row">
            <label class="col-md-4 col-form-label"></label>
            <div class="col-md-8">
              <input
                type="checkbox"
                name="receiveNewsLetters"
                id="receiveNewsLetters"
                value="true"
                class="form-check-input"
                formControlName="receiveNewsLetters"
              />
              <label for="receiveNewsLetters" class="form-control-label"
                >Recieve News Letters</label
              >
            </div>
          </div>
          <div class="form-group form-row">
            <label class="col-md-4 col-form-label">Skills :</label>
            <div class="col-md-8" formArrayName="skills">
              <div
                *ngFor="
                  let skill of signUpForm.get('skills')['controls'];
                  let i = index
                "
                [formGroupName]="i"
              >
                <div class="row mb-2">
                  <div class="col-4">
                    <input
                      type="text"
                      name="skillName"
                      id="skillName"
                      placeholder="Skill Name"
                      formControlName="skillName"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          skill.get('skillName').invalid &&
                          (skill.get('skillName').touched ||
                            skill.get('skillName').dirty),
                        'is-valid':
                          skill.get('skillName').valid &&
                          (skill.get('skillName').touched ||
                            skill.get('skillName').dirty)
                      }"
                    />
                  </div>
                  <div class="col-5">
                    <select
                      name="level"
                      id="level"
                      formControlName="level"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          skill.get('level').invalid &&
                          (skill.get('level').touched ||
                            skill.get('level').dirty),
                        'is-valid':
                          skill.get('level').valid &&
                          (skill.get('level').touched ||
                            skill.get('level').dirty)
                      }"
                    >
                      <option value="null">Please Select</option>
                      <option value="Beginer">Beginer</option>
                      <option value="Intermediate">Intermediate</option>
                      <option value="Professional">Professional</option>
                      <option value="Expert">Expert</option>
                    </select>
                  </div>
                  <div class="col-3">
                    <button
                      class="btn btn-danger"
                      type="button"
                      (click)="onRemoveClick(i)"
                    >
                      Remove
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-4"></div>
            <div class="col-8">
              <button
                type="button"
                class="btn btn-primary"
                (click)="onAddClick()"
              >
                Add Skill
              </button>
            </div>
          </div>

          {{ signUpForm.value | json }}

          <div class="card-footer">
            <button class="btn btn-primary float-right">
              Register
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
